(()=>{"use strict";const e=window.React,{i18n:{__},components:{SelectControl:t,ToggleControl:a,__experimentalNumberControl:l,TextControl:o,TextareaControl:n,TabPanel:c,Panel:r,PanelBody:i,PanelRow:s}}=wp,m=({state:m,setState:p})=>{const d=JSON.parse(decodeURIComponent(m?.["data-wp-context"]||"{}")),u=e=>{let t={...d,...e};t=Object.fromEntries(Object.entries(t).filter((([e,t])=>null!==t&&""!==t))),p({...m,"data-wp-context":encodeURIComponent(JSON.stringify(t))})};return(0,e.createElement)(c,{activeClass:"active-tab",className:"wecodeart-tabs wecodeart-tabs--popper",tabs:[{name:"content",title:__("Content")},{name:"options",title:__("Options")}]},(({name:c})=>{var m,p,h,v;let g;switch(c){case"content":g=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{label:__("Type"),value:null!==(m=d?.plugin)&&void 0!==m?m:"tooltip",options:[{label:"Tooltip",value:"tooltip"},{label:"Popover",value:"popover"}],onChange:e=>{u({plugin:e,content:"popover"===d?.plugin?d?.content:""})}}),(0,e.createElement)(n,{label:__("Title"),value:d?.title,onChange:e=>u({title:null!=e?e:""})}),"popover"===d?.plugin&&(0,e.createElement)(n,{label:__("Content"),value:d?.content,onChange:e=>u({content:e})}));break;case"options":function w(){var e;const t=null!==(e=d?.plugin)&&void 0!==e?e:"tooltip";return`<div class="${t}" role="tooltip"><div class="${t}-arrow"></div><div class="${t}-inner"></div></div>`}g=(0,e.createElement)(e.Fragment,null,(0,e.createElement)(t,{label:__("Placement","wecodeart"),value:d?.placement,help:__("How to position the tooltip.","wecodeart"),options:[{label:__("Default","wecodeart"),value:""},{label:__("Auto","wecodeart"),value:"auto"},{label:__("Top","wecodeart"),value:"top"},{label:__("Left","wecodeart"),value:"left"},{label:__("Right","wecodeart"),value:"right"},{label:__("Bottom","wecodeart"),value:"bottom"}],onChange:e=>u({placement:e})}),(0,e.createElement)(l,{label:__("Delay","wecodeart"),value:d?.delay,placeholder:"0",min:0,step:10,help:__("Delay showing and hiding the popover (ms) — doesn`t apply to manual trigger type.","wecodeart"),onChange:e=>u({delay:e?parseFloat(e):""})}),(0,e.createElement)(o,{label:__("Offset","wecodeart"),value:d?.offset,placeholder:"0, 0",help:__("Offset of the tooltip relative to its target — comma separated values like: 10,20.","wecodeart"),onChange:e=>u({offset:e})}),(0,e.createElement)(r,{className:"wecodeart-panel wecodeart-panel--advanced"},(0,e.createElement)(i,{title:__("Advanced settings","wecodeart"),initialOpen:!1},(0,e.createElement)(s,null,(0,e.createElement)(t,{label:__("Trigger","wecodeart"),value:d?.trigger?d.trigger.split(" "):[""],multiple:!0,help:__("How tooltip is triggered: click, hover, focus, manual.","wecodeart"),options:[{label:__("Default","wecodeart"),value:""},{label:__("Hover","wecodeart"),value:"hover"},{label:__("Focus","wecodeart"),value:"focus"},{label:__("Click","wecodeart"),value:"click"},{label:__("Manual","wecodeart"),value:"manual"}],onChange:e=>u({trigger:e.join(" ")})}),(0,e.createElement)(o,{label:__("Selector","wecodeart"),value:d?.selector,placeholder:"false",help:__("If a selector is provided, tooltip objects will be delegated to the specified targets.","wecodeart"),onChange:e=>u({selector:e})}),(0,e.createElement)(o,{label:__("Container","wecodeart"),value:d?.container,placeholder:"false",help:__("Appends the tooltip to a specific element.","wecodeart"),onChange:e=>u({container:e})}),(0,e.createElement)(o,{label:__("Custom class","wecodeart"),value:d?.customClass,help:__("Add classes to the tooltip when it is shown.","wecodeart"),onChange:e=>u({customClass:e})}),(0,e.createElement)(a,{label:__("Animation","wecodeart"),checked:null===(p=d?.animation)||void 0===p||p,help:__("Apply a CSS fade transition to the tooltip.","wecodeart"),onChange:e=>u({animation:e})}),(0,e.createElement)(a,{label:__("HTML","wecodeart"),checked:null!==(h=d?.html)&&void 0!==h&&h,help:__("Allow HTML in the tooltip.","wecodeart"),onChange:e=>u({html:e})}),(0,e.createElement)(a,{label:__("Sanitize","wecodeart"),checked:null===(v=d?.sanitize)||void 0===v||v,help:__("Enable or disable the sanitization. If activated 'template', 'content' and 'title' options will be sanitized.","wecodeart"),onChange:e=>u({sanitize:e})}),(0,e.createElement)(n,{label:__("Template","wecodeart"),help:__("Base HTML to use when creating the tooltip. ","wecodeart"),value:d?.template,placeholder:w(),onChange:e=>u({template:e})})))))}return g}))},{i18n:{__:p},element:{useState:d,useEffect:u},components:{Icon:h,SVG:v,Path:g,Modal:w,Button:b,ButtonGroup:E},richText:{applyFormat:C,removeFormat:f,getActiveFormat:y},blockEditor:{RichTextToolbarButton:k}}=wp,T="wca/popper",A={name:T,title:p("Popper","wecodeart"),tagName:"span",className:"has-popper",attributes:{"data-wp-context":"data-wp-context"},edit({isActive:t,value:a,onChange:l}){const o=y(a,T),{attributes:n={"data-options":""}}=o||{},{attributes:c={"data-wp-context":""}}=o||{},r={...c,"data-wp-context":c["data-wp-context"]?c["data-wp-context"]:n["data-options"]},[i,s]=d(!1),A=()=>s(!i),[x,S]=d({...r});return u((()=>S({...r})),[o]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(k,{icon:(0,e.createElement)(h,{icon:(0,e.createElement)(v,{style:{padding:4},viewBox:"0 0 16 16"},(0,e.createElement)(g,{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"}))}),title:p("Popper","wecodeart"),onClick:A,isActive:t}),i&&(0,e.createElement)(w,{className:"wecodeart-modal wecodeart-modal--popper",title:p("Settings"),onRequestClose:A},(0,e.createElement)(m,{state:x,setState:S}),(0,e.createElement)(E,null,(0,e.createElement)(b,{isPrimary:!0,isLarge:!0,onClick:()=>{l(C(a,{type:T,attributes:x})),A()}},p("Apply")),(0,e.createElement)(b,{isDestructive:!0,isLarge:!0,onClick:()=>{l(f(a,T)),A()}},p("Remove")))))}},x=window.wp.element,S=window.wp.primitives,B=(0,x.createElement)(S.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,x.createElement)(S.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})),{get:_}=lodash,{i18n:{__:F},components:{Icon:M,withSpokenMessages:N},compose:{compose:P},data:{useSelect:R,useDispatch:I},blockEditor:{RichTextToolbarButton:z,store:L}}=wp,H=["core/paragraph","core/heading","core/list-item"],D=P(N)((()=>{const{blockId:t,blockName:a,isBlockJustified:l,formatTypes:o=[]}=R((e=>{const t=e(L).getSelectedBlock();return t?{blockId:t.clientId,blockName:t.name,isBlockJustified:"justify"===_(t,"attributes.align"),formatTypes:e("core/rich-text").getFormatTypes()}:{}})),n=o.filter((({name:e})=>"wpcom/justify"===e));if(H.includes(a)&&0===n.length){const{updateBlockAttributes:a}=I(L,[t]),o=()=>a(t,{align:l?null:"justify"});return(0,e.createElement)(z,{icon:(0,e.createElement)(M,{icon:B}),title:F("Justify"),onClick:o,isActive:l})}return null})),{__:V}=wp.i18n,j="wca/justify",O={name:j,title:V("Align text justify","wecodeart"),tagName:"p",className:null,attributes:{style:"style"},edit:({isActive:t,value:a,onChange:l,activeAttributes:o})=>(0,e.createElement)(D,{name:j,isActive:t,value:a,onChange:l,activeAttributes:o})},{i18n:{__:G},data:{select:J},components:{Icon:U,SVG:$,Path:q},richText:{toggleFormat:Z},blockEditor:{RichTextToolbarButton:W,RichTextShortcut:K}}=wp,Q="wca/underline",X={name:Q,title:G("Underline"),tagName:"span",className:"has-underline",attributes:{class:"class"},edit({isActive:t,value:a,onChange:l}){const o=J("core/rich-text").getFormatTypes().filter((e=>"wpcom/underline"===e.name)),n=()=>l(Z(a,{type:Q}));return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(K,{type:"primary",character:"u",onUse:n}),0===o.length&&(0,e.createElement)(W,{icon:(0,e.createElement)(U,{icon:(0,e.createElement)($,{style:{padding:2},viewBox:"0 0 16 16"},(0,e.createElement)(q,{d:"M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57-1.709 0-2.687-1.08-2.687-2.57V3.136zM12.5 15h-9v-1h9v1z"}))}),title:G("Underline"),onClick:n,isActive:t,shortcutType:"primary",shortcutCharacter:"u"}))}},{i18n:{__:Y},data:{select:ee},element:{useState:te,useEffect:ae},components:{Icon:le,SVG:oe,Path:ne,Modal:ce,Button:re,ButtonGroup:ie,SelectControl:se},richText:{applyFormat:me,removeFormat:pe,getActiveFormat:de},blockEditor:{RichTextToolbarButton:ue}}=wp,he="wca/decoration",ve={name:he,title:Y("Decoration","wecodeart"),tagName:"span",className:"has-decoration",attributes:{class:"class"},edit({isActive:t,value:a,onChange:l}){const o=de(a,he),{wecodeart:{decorationStyles:n=[]}={}}=ee("core/editor").getEditorSettings(),{attributes:c={}}=o||{},[r,i]=te(!1),[s,m]=te({...c}),p=()=>i(!r),d=[{label:Y("Default"),value:""},...n.map((e=>({...e,value:`is-style-${e.value}`})))];return ae((()=>m({...c})),[o]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(ue,{icon:(0,e.createElement)(le,{icon:(0,e.createElement)(oe,{style:{padding:4},viewBox:"0 0 16 16"},(0,e.createElement)(ne,{"fill-rule":"evenodd",d:"M11.096.644a2 2 0 0 1 2.791.036l1.433 1.433a2 2 0 0 1 .035 2.791l-.413.435-8.07 8.995a.5.5 0 0 1-.372.166h-3a.5.5 0 0 1-.234-.058l-.412.412A.5.5 0 0 1 2.5 15h-2a.5.5 0 0 1-.354-.854l1.412-1.412A.5.5 0 0 1 1.5 12.5v-3a.5.5 0 0 1 .166-.372l8.995-8.07.435-.414Zm-.115 1.47L2.727 9.52l3.753 3.753 7.406-8.254-2.905-2.906Zm3.585 2.17.064-.068a1 1 0 0 0-.017-1.396L13.18 1.387a1 1 0 0 0-1.396-.018l-.068.065 2.85 2.85M5.293 13.5 2.5 10.707v1.586L3.707 13.5z"}))}),title:Y("Decoration","wecodeart"),onClick:p,isActive:t}),r&&(0,e.createElement)(ce,{title:Y("Settings"),onRequestClose:p},(0,e.createElement)(se,{label:Y("Style"),value:s?.class,options:d,onChange:e=>m({...s,class:e})}),(0,e.createElement)((()=>{let t=["has-decoration"];return t=[...t,s?.class],(0,e.createElement)("p",{style:{fontSize:"1.15rem",fontWeight:"400"}},"Lorem ipsum ",(0,e.createElement)("span",{class:t.join(" ")},"dolor")," sit ament.")}),null),(0,e.createElement)(ie,null,(0,e.createElement)(re,{isPrimary:!0,isLarge:!0,onClick:()=>{l(me(a,{type:he,attributes:s})),p()}},Y("Apply")),(0,e.createElement)(re,{isDestructive:!0,isLarge:!0,onClick:()=>{l(pe(a,he)),p()}},Y("Remove")))))}},ge=(0,x.createElement)(S.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,x.createElement)(S.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})),{i18n:{__:we},element:{useState:be,useEffect:Ee},components:{Modal:Ce,Button:fe,TextControl:ye,Icon:ke},richText:{applyFormat:Te,removeFormat:Ae,getActiveFormat:xe},blockEditor:{RichTextToolbarButton:Se}}=wp,Be="wca/abbreviation",{__:_e}=wp.i18n,Fe={name:"wca/abbreviation",title:_e("Abbreviation","wecodeart"),tagName:"abbr",className:null,attributes:{title:"title"},edit:({isActive:t,value:a,onChange:l})=>{const o=xe(a,Be),{attributes:n={}}=o||{},[c,r]=be(!1),[i,s]=be({...n});Ee((()=>s({...n})),[o]);const m=()=>r(!c),{title:p}=i;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(Se,{icon:(0,e.createElement)(ke,{icon:ge}),title:we("Abbreviation"),onClick:m,isActive:t}),c&&(0,e.createElement)(Ce,{title:we("Abbreviation"),onRequestClose:m},(0,e.createElement)(ye,{label:we("Title"),value:p,onChange:e=>s({...i,title:e})}),(0,e.createElement)(fe,{isPrimary:!0,isLarge:!0,onClick:()=>{l(p?Te(a,{type:Be,attributes:i}):Ae(a,Be)),m()}},we(p?"Apply":"Remove"))))}},{get:Me}=lodash,{i18n:{__:Ne},data:{useSelect:Pe,useDispatch:Re},components:{withSpokenMessages:Ie,Icon:ze},editPost:{PluginBlockSettingsMenuItem:Le},blockEditor:{store:He},compose:{compose:De},richText:{create:Ve,toHTMLString:je}}=wp,Oe=["core/heading","core/paragraph","core/code","core/list-item"],Ge={name:"wca-clear-formatting",render:De(Ie)((()=>{const{blockId:t,blockName:a,blockContent:l}=Pe((e=>{const t=e(He).getSelectedBlock();return t?{blockId:t.clientId,blockName:t.name,blockContent:Me(t,"attributes.content")}:{}}));if(Oe.includes(a)){const a=Ve({html:l}),{updateBlockAttributes:o}=Re(He,[t,a]);return(0,e.createElement)(Le,{icon:(0,e.createElement)(ze,{icon:"editor-removeformatting",className:"components-menu-items__item-icon"}),label:Ne("Clear block formatting","wecodeart"),onClick:()=>o(t,{content:je({value:{...a,formats:Array(a.formats.length)}})})})}return null}))},{registerFormatType:Je}=wp.richText,{registerPlugin:Ue}=wp.plugins;wp.domReady((()=>{[A,O,X,ve,Fe].forEach((({name:e,...t})=>{e&&Je(e,t)})),function(){const{name:e,render:t}=Ge;Ue(e,{icon:!1,render:t})}()}))})();