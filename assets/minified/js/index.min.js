(()=>{"use strict";const e=window.ReactJSXRuntime,{i18n:{__},element:{useState:t,useEffect:a,useRef:n},components:{ToolbarGroup:o,ToolbarButton:l,Dashicon:s,Button:i,ButtonGroup:r,Popover:c,TabPanel:p,ToggleControl:d,__experimentalNumberControl:h},richText:{applyFormat:u,removeFormat:m,getActiveFormat:g},blockEditor:{BlockControls:x}}=wp,f="wca/counter",v={name:f,title:__("Counter","wecodeart"),tagName:"span",className:"has-counter",attributes:{"data-wp-context":"data-wp-context"},edit({isActive:v,value:b,onChange:j}){const{text:w,start:y,end:C}=b,_=w.substring(y,C),k=g(b,f),{attributes:T={"data-wp-context":JSON.stringify({to:""})}}=k||{},S=n(null),[F,A]=t(!1),N=()=>{if(A(!F),!_||R.to.length)return;const e=parseFloat(_.replace(",",""));I({to:isNaN(e)?0:e})},[D,B]=t({...T}),R=JSON.parse(decodeURIComponent(D["data-wp-context"]||"{}")),I=e=>{let t={...R,...e};t=Object.fromEntries(Object.entries(t).filter((([e,t])=>null!==t&&""!==t))),B({...D,"data-wp-context":encodeURIComponent(JSON.stringify(t))})};return a((()=>B({...T})),[k]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(x,{children:(0,e.jsx)(o,{children:(0,e.jsx)(l,{icon:(0,e.jsx)(s,{icon:"upload"}),title:__("Counter","wecodeart"),onClick:N,isActive:v,ref:S})})}),F&&(0,e.jsxs)(c,{animate:!1,className:"wecodeart-popover",anchorRef:S,offset:10,onClose:N,onFocusOutsided:N,children:[(0,e.jsx)(p,{activeClass:"active-tab",className:"wecodeart-tabs wecodeart-tabs--popover",tabs:[{name:"content",title:__("Content")},{name:"options",title:__("Options")}],children:({name:t})=>{var a;let n;switch(t){case"content":n=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsx)(h,{label:__("Count to","wecodeart"),value:R.to,disabled:!0})}),(0,e.jsx)("p",{children:(0,e.jsx)(h,{label:__("Count from","wecodeart"),value:R.from,placeholder:0,min:0,help:__("Counter starts from a specific value.","wecodeart"),onChange:e=>I({from:e?parseInt(e):""})})})]});break;case"options":n=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsx)(h,{label:__("Speed"),value:R.speed,placeholder:__("Default"),min:1e3,step:10,help:__("Duration of the counter animation - in ms.","wecodeart"),onChange:e=>I({speed:e?parseInt(e):null})})}),(0,e.jsx)("p",{children:(0,e.jsx)(h,{label:__("Refresh"),value:R.refresh,placeholder:__("Default"),min:10,step:10,help:__("Refresh interval of the counter animation - in ms.","wecodeart"),onChange:e=>I({refresh:e?parseInt(e):null})})}),(0,e.jsx)("p",{children:(0,e.jsx)(h,{label:__("Decimals"),value:R.decimals,placeholder:0,min:0,step:1,max:10,help:__("Allow decimals.","wecodeart"),onChange:e=>I({decimals:e?parseInt(e):null})})}),(0,e.jsx)("p",{children:(0,e.jsx)(d,{label:__("Comma"),checked:null!==(a=R.comma)&&void 0!==a&&a,help:__("Allow comma number formatting.","wecodeart"),onChange:e=>I({comma:!0===e||null})})})]})}return n}}),(0,e.jsxs)(r,{children:[(0,e.jsx)(i,{isPrimary:!0,isLarge:!0,onClick:()=>{j(u(b,{type:f,attributes:D})),N()},children:__("Apply")}),(0,e.jsx)(i,{isDestructive:!0,isLarge:!0,onClick:()=>{j(m(b,f)),N()},children:__("Remove")})]})]})]})}},{i18n:{__:b},components:{SelectControl:j,ToggleControl:w,TextControl:y,TextareaControl:C,TabPanel:_,Panel:k,PanelBody:T,PanelRow:S}}=wp,F=['<div class="wp-floating" role="tooltip">','<div class="wp-floating__arrow"></div>','<h3 class="wp-floating__header"></h3>','<div class="wp-floating__inner"></div>',"</div>"].join(""),A=({state:t,setState:a})=>{const n=JSON.parse(decodeURIComponent(t["data-wp-context"]||"{}")),o=e=>{let o={...n,...e};o=Object.fromEntries(Object.entries(o).filter((([e,t])=>null!==t&&""!==t))),a({...t,"data-wp-context":encodeURIComponent(JSON.stringify(o))})};return(0,e.jsx)(_,{activeClass:"active-tab",className:"wecodeart-tabs wecodeart-tabs--popover",tabs:[{name:"content",title:b("Content")},{name:"options",title:b("Options")}],children:({name:t})=>{var a,l,s,i;let r;switch(t){case"content":r=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j,{label:b("Type"),value:null!==(a=n?.plugin)&&void 0!==a?a:"tooltip",options:[{label:b("Tooltip"),value:"tooltip"},{label:b("Popover"),value:"popover"}],onChange:e=>{o({plugin:e,content:"tooltip"===e?"":n?.content})}}),(0,e.jsx)(C,{label:b("Title"),value:n?.title,onChange:e=>o({title:null!=e?e:""})}),"popover"===n?.plugin&&(0,e.jsx)(C,{label:b("Content"),value:n?.content,onChange:e=>o({content:e})})]});break;case"options":r=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(j,{label:b("Trigger","wecodeart"),value:n?.trigger?n.trigger.split(" "):[""],multiple:!0,help:b("How tooltip is triggered: click, hover, focus, manual.","wecodeart"),options:[{label:b("Default"),value:""},{label:b("Hover"),value:"hover"},{label:b("Focus"),value:"focus"},{label:b("Click"),value:"click"},{label:b("Manual"),value:"manual"}],onChange:e=>o({trigger:e.join(" ")})}),(0,e.jsx)(j,{label:b("Position"),value:n?.placement,help:b("How to position the tooltip.","wecodeart"),options:[{label:b("Default"),value:""},{label:b("Auto"),value:"auto"},{label:b("Top"),value:"top"},{label:b("Left"),value:"left"},{label:b("Right"),value:"right"},{label:b("Bottom"),value:"bottom"}],onChange:e=>o({placement:e})}),(0,e.jsx)(k,{className:"wecodeart-panel wecodeart-panel--advanced",children:(0,e.jsx)(T,{title:b("Advanced settings","wecodeart"),initialOpen:!1,children:(0,e.jsxs)(S,{children:[(0,e.jsx)(y,{label:b("Delay"),value:n?.delay,placeholder:"0, 0",help:b("Delay showing and hiding the popover (ms) — doesn`t apply to manual trigger type.","wecodeart"),onChange:e=>o({delay:e||""})}),(0,e.jsx)(y,{label:b("Offset"),value:n?.offset,placeholder:"0, 0",help:b("Offset of the tooltip relative to its target — comma separated values like: 10, 20, 10 for different axis.","wecodeart"),onChange:e=>o({offset:e||""})}),(0,e.jsx)(y,{label:b("Container"),value:n?.container,placeholder:"false",help:b("Appends the tooltip to a specific element.","wecodeart"),onChange:e=>o({container:e})}),(0,e.jsx)(y,{label:b("Custom class"),value:n?.className,help:b("Add classes to the tooltip when it is shown.","wecodeart"),onChange:e=>o({className:e})}),(0,e.jsx)(w,{label:b("Animation"),checked:null===(l=n?.animation)||void 0===l||l,help:b("Apply a CSS fade transition to the tooltip.","wecodeart"),onChange:e=>o({animation:e})}),(0,e.jsx)(w,{label:b("HTML"),checked:null!==(s=n?.html)&&void 0!==s&&s,help:b("Allow HTML in the tooltip.","wecodeart"),onChange:e=>o({html:e})}),(0,e.jsx)(w,{label:b("Sanitize"),checked:null===(i=n?.sanitize)||void 0===i||i,help:b("Enable or disable the sanitization. If activated 'template', 'content' and 'title' options will be sanitized.","wecodeart"),onChange:e=>o({sanitize:e})}),(0,e.jsx)(C,{label:b("Template"),help:b("Base HTML to use when creating the tooltip. ","wecodeart"),value:n?.template,placeholder:F,onChange:e=>o({template:e})})]})})})]})}return r}})},{i18n:{__:N},element:{useState:D,useEffect:B,useRef:R},components:{Icon:I,SVG:L,Path:P,Button:z,Popover:O,ButtonGroup:E,ToolbarGroup:M,ToolbarButton:H},richText:{applyFormat:V,removeFormat:G,getActiveFormat:J},blockEditor:{BlockControls:U}}=wp,W="wca/floating",$={name:W,title:N("Floating UI","wecodeart"),tagName:"span",className:"has-floating",attributes:{"data-wp-context":"data-wp-context"},edit({isActive:t,value:a,onChange:n}){const o=J(a,W),l=R(null),{attributes:s={"data-options":""}}=o||{},{attributes:i={"data-wp-context":""}}=o||{},r={...i,"data-wp-context":i["data-wp-context"]?i["data-wp-context"]:s["data-options"]},[c,p]=D(!1),d=()=>p(!c),[h,u]=D({...r});return B((()=>u({...r})),[o]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(U,{children:(0,e.jsx)(M,{children:(0,e.jsx)(H,{icon:(0,e.jsx)(I,{icon:(0,e.jsx)(L,{style:{padding:4},viewBox:"0 0 16 16",children:(0,e.jsx)(P,{d:"M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"})})}),title:N("Floating UI","wecodeart"),onClick:d,isActive:t,ref:l})})}),c&&(0,e.jsxs)(O,{animate:!1,className:"wecodeart-popover",anchorRef:l,offset:10,onClose:d,onFocusOutsided:d,children:[(0,e.jsx)(A,{state:h,setState:u}),(0,e.jsxs)(E,{children:[(0,e.jsx)(z,{isPrimary:!0,isLarge:!0,onClick:()=>{n(V(a,{type:W,attributes:h})),d()},children:N("Apply")}),(0,e.jsx)(z,{isDestructive:!0,isLarge:!0,onClick:()=>{n(G(a,W)),d()},children:N("Remove")})]})]})]})}},q=window.wp.primitives,Z=(0,e.jsx)(q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,e.jsx)(q.Path,{d:"M4 12.8h16v-1.5H4v1.5zm0 7h12.4v-1.5H4v1.5zM4 4.3v1.5h16V4.3H4z"})}),{get:X}=lodash,{i18n:{__:K},components:{Icon:Q,withSpokenMessages:Y},compose:{compose:ee},data:{useSelect:te,useDispatch:ae},blockEditor:{RichTextToolbarButton:ne,store:oe}}=wp,le=["core/paragraph","core/heading","core/list-item"],se=ee(Y)((()=>{const{blockId:t,blockName:a,isBlockJustified:n,formatTypes:o=[]}=te((e=>{const t=e(oe).getSelectedBlock();return t?{blockId:t.clientId,blockName:t.name,isBlockJustified:"justify"===X(t,"attributes.align"),formatTypes:e("core/rich-text").getFormatTypes()}:{}})),l=o.filter((({name:e})=>"wpcom/justify"===e));if(le.includes(a)&&0===l.length){const{updateBlockAttributes:a}=ae(oe,[t]),o=()=>a(t,{align:n?null:"justify"});return(0,e.jsx)(ne,{icon:(0,e.jsx)(Q,{icon:Z}),title:K("Justify"),onClick:o,isActive:n})}return null})),{__:ie}=wp.i18n,re="wca/justify",ce={name:re,title:ie("Align text justify","wecodeart"),tagName:"p",className:null,attributes:{style:"style"},edit:({isActive:t,value:a,onChange:n,activeAttributes:o})=>(0,e.jsx)(se,{name:re,isActive:t,value:a,onChange:n,activeAttributes:o})},{i18n:{__:pe},data:{select:de},components:{Icon:he,SVG:ue,Path:me},richText:{toggleFormat:ge},blockEditor:{RichTextToolbarButton:xe,RichTextShortcut:fe}}=wp,ve="wca/underline",be={name:ve,title:pe("Underline"),tagName:"span",className:"has-underline",attributes:{class:"class"},edit({isActive:t,value:a,onChange:n}){const o=de("core/rich-text").getFormatTypes().filter((({name:e})=>"wpcom/underline"===e)),l=()=>n(ge(a,{type:ve}));return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(fe,{type:"primary",character:"u",onUse:l}),0===o.length&&(0,e.jsx)(xe,{icon:(0,e.jsx)(he,{icon:(0,e.jsx)(ue,{style:{padding:2},viewBox:"0 0 16 16",children:(0,e.jsx)(me,{d:"M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57-1.709 0-2.687-1.08-2.687-2.57V3.136zM12.5 15h-9v-1h9v1z"})})}),title:pe("Underline"),onClick:l,isActive:t,shortcutType:"primary",shortcutCharacter:"u"})]})}},{i18n:{__:je},data:{select:we},element:{useState:ye,useEffect:Ce},components:{Icon:_e,SVG:ke,Path:Te,Modal:Se,Button:Fe,ButtonGroup:Ae,SelectControl:Ne},richText:{applyFormat:De,removeFormat:Be,getActiveFormat:Re},blockEditor:{RichTextToolbarButton:Ie}}=wp,Le="wca/decoration",Pe={name:Le,title:je("Decoration","wecodeart"),tagName:"span",className:"has-decoration",attributes:{class:"class"},edit({isActive:t,value:a,onChange:n}){const o=Re(a,Le),{wecodeart:{decorationStyles:l=[]}={}}=we("core/editor").getEditorSettings(),{attributes:s={}}=o||{},[i,r]=ye(!1),[c,p]=ye({...s}),d=()=>r(!i),h=[{label:je("Default"),value:""},...l.map((e=>({...e,value:`is-style-${e.value}`})))];Ce((()=>p({...s})),[o]);const u=()=>{let t=["has-decoration"];return t=[...t,c?.class],(0,e.jsxs)("p",{style:{fontSize:"1.15rem",fontWeight:"400"},children:["Lorem ipsum ",(0,e.jsx)("span",{class:t.join(" "),children:"dolor"})," sit ament."]})};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ie,{icon:(0,e.jsx)(_e,{icon:(0,e.jsx)(ke,{style:{padding:4},viewBox:"0 0 16 16",children:(0,e.jsx)(Te,{"fill-rule":"evenodd",d:"M11.096.644a2 2 0 0 1 2.791.036l1.433 1.433a2 2 0 0 1 .035 2.791l-.413.435-8.07 8.995a.5.5 0 0 1-.372.166h-3a.5.5 0 0 1-.234-.058l-.412.412A.5.5 0 0 1 2.5 15h-2a.5.5 0 0 1-.354-.854l1.412-1.412A.5.5 0 0 1 1.5 12.5v-3a.5.5 0 0 1 .166-.372l8.995-8.07.435-.414Zm-.115 1.47L2.727 9.52l3.753 3.753 7.406-8.254-2.905-2.906Zm3.585 2.17.064-.068a1 1 0 0 0-.017-1.396L13.18 1.387a1 1 0 0 0-1.396-.018l-.068.065 2.85 2.85M5.293 13.5 2.5 10.707v1.586L3.707 13.5z"})})}),title:je("Decoration","wecodeart"),onClick:d,isActive:t}),i&&(0,e.jsxs)(Se,{title:je("Settings"),onRequestClose:d,children:[(0,e.jsx)(Ne,{label:je("Style"),value:c?.class,options:h,onChange:e=>p({...c,class:e})}),(0,e.jsx)(u,{}),(0,e.jsxs)(Ae,{children:[(0,e.jsx)(Fe,{isPrimary:!0,isLarge:!0,onClick:()=>{n(De(a,{type:Le,attributes:c})),d()},children:je("Apply")}),(0,e.jsx)(Fe,{isDestructive:!0,isLarge:!0,onClick:()=>{n(Be(a,Le)),d()},children:je("Remove")})]})]})]})}},{i18n:{__:ze},a11y:{speak:Oe},richText:{applyFormat:Ee,removeFormat:Me},element:{useState:He,useEffect:Ve,useLayoutEffect:Ge},blockEditor:{useSettings:Je,BlockControls:Ue,FontSizePicker:We,LineHeightControl:$e,__experimentalFontFamilyControl:qe,__experimentalLetterSpacingControl:Ze,__experimentalFontAppearanceControl:Xe,__experimentalTextDecorationControl:Ke,__experimentalTextTransformControl:Qe},components:{Popover:Ye,ToolbarGroup:et,ToolbarButton:tt,__experimentalToolsPanel:at,__experimentalToolsPanelItem:nt}}=wp,ot="wca/typography",lt={name:ot,title:ze("Typography"),tagName:"span",className:"has-inline-typography",attributes:{style:"style"},edit({isActive:t,value:a,onChange:n,contentRef:o}){const[l,s]=He(!1),[i,r]=He(null),[c]=Je("typography.fontFamilies"),p=Object.values(c).flat().map((({fontFamily:e,name:t})=>({fontFamily:e,name:t||e,style:{fontFamily:e}})));function d(){s(!1),r(null)}Ve((()=>{t||s(!1)}),[t]),Ge((()=>{const e=o.current;if(e)return e.addEventListener("click",a),()=>{e.removeEventListener("click",a)};function a(e){const a=e.target.closest("[contenteditable] .has-inline-typography");a&&t&&(s(!0),r(a))}}),[o,t]);const h=a?.activeFormats?.find((({type:e})=>e===ot))?.attributes?.style||"",u=Object.fromEntries(h.split(";").filter(Boolean).map((e=>e.split(":").map((e=>e.trim()))))),m=(e,t)=>{t?u[e]=t:delete u[e];const o=Object.entries(u).map((([e,t])=>`${e}: ${t}`)).join("; ");n(Ee(a,{type:ot,attributes:{style:o}}))};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Ue,{group:"default",children:(0,e.jsx)(et,{children:(0,e.jsx)(tt,{icon:"edit",title:ze("Typography"),onClick:e=>{return(t=e.currentTarget)&&r(t),void s(!0);var t},isActive:t||l,"aria-haspopup":"true","aria-expanded":l})})}),l&&(0,e.jsx)(Ye,{animate:!1,className:"wecodeart-popover",anchor:i,offset:10,onClose:d,onFocusOutsided:d,children:(0,e.jsxs)(at,{label:ze("Typography"),resetAll:function(){n(Me(a,ot)),Oe(ze("Inline formatting removed."),"assertive")},children:[(0,e.jsx)(nt,{label:ze("Font"),hasValue:()=>u?.["font-family"],onDeselect:()=>m("font-family"),children:(0,e.jsx)(qe,{value:u?.["font-family"],onChange:e=>m("font-family",e),fontFamilies:p,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,e.jsx)(nt,{label:ze("Font size"),hasValue:()=>u?.["font-size"],onDeselect:()=>m("font-size"),children:(0,e.jsx)(We,{value:u?.["font-size"],onChange:e=>m("font-size",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,e.jsx)(nt,{label:ze("Appearance"),hasValue:()=>u?.["font-style"]||u?.["font-weight"],onDeselect:()=>{m("font-style"),m("font-weight")},children:(0,e.jsx)(Xe,{value:{fontStyle:u?.["font-style"],fontWeight:u?.["font-weight"]},onChange:({fontStyle:e,fontWeight:t})=>{m("font-style",e),m("font-weight",t)},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,e.jsx)(nt,{label:ze("Line height"),hasValue:()=>u?.["line-height"],onDeselect:()=>m("line-height"),children:(0,e.jsx)($e,{value:u?.["line-height"],onChange:e=>m("line-height",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,e.jsx)(nt,{label:ze("Letter spacing"),hasValue:()=>u?.["letter-spacing"],onDeselect:()=>m("letter-spacing"),children:(0,e.jsx)(Ze,{value:u?.["letter-spacing"],onChange:e=>m("letter-spacing",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})}),(0,e.jsx)(nt,{label:ze("Decoration"),hasValue:()=>u?.["text-decoration"],onDeselect:()=>m("text-decoration"),children:(0,e.jsx)(Ke,{value:u?.["text-decoration"],onChange:e=>m("text-decoration",e)})}),(0,e.jsx)(nt,{label:ze("Letter case"),hasValue:()=>u?.["text-transform"],onDeselect:()=>m("text-transform"),children:(0,e.jsx)(Qe,{value:u?.["text-transform"],onChange:e=>m("text-transform",e),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]})})]})}},st=(0,e.jsx)(q.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,e.jsx)(q.Path,{d:"M20.8 10.7l-4.3-4.3-1.1 1.1 4.3 4.3c.1.1.1.3 0 .4l-4.3 4.3 1.1 1.1 4.3-4.3c.7-.8.7-1.9 0-2.6zM4.2 11.8l4.3-4.3-1-1-4.3 4.3c-.7.7-.7 1.8 0 2.5l4.3 4.3 1.1-1.1-4.3-4.3c-.2-.1-.2-.3-.1-.4z"})}),{i18n:{__:it},element:{useState:rt,useEffect:ct},components:{Modal:pt,Button:dt,TextControl:ht,Icon:ut},richText:{applyFormat:mt,removeFormat:gt,getActiveFormat:xt},blockEditor:{RichTextToolbarButton:ft}}=wp,vt="wca/abbreviation",{__:bt}=wp.i18n,jt={name:"wca/abbreviation",title:bt("Abbreviation","wecodeart"),tagName:"abbr",className:null,attributes:{title:"title"},edit:({isActive:t,value:a,onChange:n})=>{const o=xt(a,vt),{attributes:l={}}=o||{},[s,i]=rt(!1),[r,c]=rt({...l});ct((()=>c({...l})),[o]);const p=()=>i(!s),{title:d}=r;return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ft,{icon:(0,e.jsx)(ut,{icon:st}),title:it("Abbreviation"),onClick:p,isActive:t}),s&&(0,e.jsxs)(pt,{title:it("Abbreviation"),onRequestClose:p,children:[(0,e.jsx)(ht,{label:it("Title"),value:d,onChange:e=>c({...r,title:e})}),(0,e.jsx)(dt,{isPrimary:!0,isLarge:!0,onClick:()=>{n(d?mt(a,{type:vt,attributes:r}):gt(a,vt)),p()},children:it(d?"Apply":"Remove")})]})]})}},{i18n:{__:wt},data:{select:yt},element:{useState:Ct,useEffect:_t,useRef:kt},components:{Dashicon:Tt,Popover:St,TabPanel:Ft,Button:At,ButtonGroup:Nt,TextControl:Dt,BaseControl:Bt,SelectControl:Rt,ToggleControl:It,ToolbarGroup:Lt,ToolbarButton:Pt,__experimentalHStack:zt,__experimentalNumberControl:Ot},richText:{applyFormat:Et,removeFormat:Mt,getActiveFormat:Ht},blockEditor:{BlockControls:Vt}}=wp,Gt="wca/rotator",Jt={name:Gt,title:wt("String rotator","wecodeart"),tagName:"span",className:"has-rotator",attributes:{"data-wp-context":"data-wp-context"},edit({isActive:t,value:a,onChange:n,contentRef:o}){const{text:l,start:s,end:i}=a,r=l.substring(s,i),c=Ht(a,Gt),{wecodeart:{rotatorStyles:p=[]}={}}=yt("core/editor").getEditorSettings(),{attributes:d={"data-wp-context":JSON.stringify({strings:[],effect:"slide"})}}=c||{},h=kt(null),[u,m]=Ct(!1),g=()=>{m(!u),!r||v.strings.length>=1||b({strings:[r]})},[x,f]=Ct({...d}),v=JSON.parse(decodeURIComponent(x["data-wp-context"]||"{}")),b=e=>{let t={...v,...e};t=Object.fromEntries(Object.entries(t).filter((([e,t])=>null!==t&&""!==t))),f({...x,"data-wp-context":encodeURIComponent(JSON.stringify(t))})},j=()=>{const e=[...v.strings,""];b({strings:e})},w=p.filter((({letters:e,value:t})=>e&&t===v.effect)).length;return _t((()=>f({...d})),[c]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Vt,{group:"default",children:(0,e.jsx)(Lt,{children:(0,e.jsx)(Pt,{icon:(0,e.jsx)(Tt,{icon:"editor-ol"}),title:wt("String rotator","wecodeart"),onClick:g,isActive:t,ref:h})})}),u&&(0,e.jsxs)(St,{animate:!1,className:"wecodeart-popover",anchorRef:h,offset:10,onClose:g,onFocusOutsided:g,children:[(0,e.jsx)(Ft,{activeClass:"active-tab",className:"wecodeart-tabs wecodeart-tabs--popover",tabs:[{name:"content",title:wt("Content")},{name:"options",title:wt("Options")}],children:({name:t})=>{var a;let n;switch(t){case"content":n=(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(Bt,{children:[(0,e.jsx)("h4",{style:{marginTop:0},children:wt("Text strings","wecodeart")}),v.strings.map(((t,a)=>(0,e.jsxs)(zt,{style:{alignItems:"stretch"},children:[(0,e.jsx)(Dt,{style:{minWidth:250},disabled:0===a,placeholder:"Lorem ipsum dolor",value:t,onChange:e=>((e,t)=>{const a=[...v.strings];a[e]=t,b({strings:a})})(a,e)}),0!==a&&(0,e.jsx)(At,{style:{height:32},isDestructive:!0,isSmall:!0,onClick:()=>(e=>{const t=[...v.strings];t.splice(e,1),b({strings:t})})(a),children:(0,e.jsx)(Tt,{icon:"no"})})]},a))),(0,e.jsx)(At,{isPrimary:!0,onClick:j,children:(0,e.jsx)(Tt,{icon:"plus-alt"})})]})});break;case"options":n=(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("p",{style:{marginTop:0},children:(0,e.jsx)(Rt,{label:wt("Style"),value:v.effect,options:p,onChange:e=>b({effect:e})})}),(0,e.jsx)("p",{children:(0,e.jsx)(Ot,{label:wt("Delay"),value:v.changeDelay,placeholder:wt("Default"),min:100,step:100,help:wt("Delay for changing the next string.","wecodeart"),onChange:e=>b({changeDelay:e?parseInt(e):""})})}),w?(0,e.jsxs)("p",{children:[(0,e.jsx)(It,{label:wt("Letters"),checked:null!==(a=v.letters)&&void 0!==a&&a,help:wt("Animate letters - if style supports it.","wecodeart"),onChange:e=>b({letters:!!e||null,letterDelay:!0!==e?null:v.letterDelay})}),v.letters&&(0,e.jsx)(Ot,{label:wt("Letter Delay"),value:v.letterDelay,placeholder:wt("Default"),min:10,step:10,help:wt("Delay for changing the next letter - if style supports it.","wecodeart"),onChange:e=>b({letterDelay:e?parseInt(e):""})})]}):null,(0,e.jsx)("p",{children:(0,e.jsx)(Dt,{label:wt("Custom class"),value:v?.className,onChange:e=>b({className:e})})})]})}return n}}),(0,e.jsxs)(Nt,{children:[(0,e.jsx)(At,{isPrimary:!0,isLarge:!0,onClick:()=>{n(Et(a,{type:Gt,attributes:x})),g()},children:wt("Apply")}),(0,e.jsx)(At,{isDestructive:!0,isLarge:!0,onClick:()=>{n(Mt(a,Gt)),g()},children:wt("Remove")})]})]})]})}},{get:Ut}=lodash,{i18n:{__:Wt},data:{useSelect:$t,useDispatch:qt},components:{withSpokenMessages:Zt,Icon:Xt},editPost:{PluginBlockSettingsMenuItem:Kt},blockEditor:{store:Qt},compose:{compose:Yt},richText:{create:ea,toHTMLString:ta}}=wp,aa=["core/heading","core/paragraph","core/code","core/list-item"],na={name:"wca-clear-formatting",render:Yt(Zt)((()=>{const{blockId:t,blockName:a,blockContent:n}=$t((e=>{const t=e(Qt).getSelectedBlock();return t?{blockId:t.clientId,blockName:t.name,blockContent:Ut(t,"attributes.content")}:{}}));if(aa.includes(a)){const a=ea({html:n}),{updateBlockAttributes:o}=qt(Qt,[t,a]);return(0,e.jsx)(Kt,{icon:(0,e.jsx)(Xt,{icon:"editor-removeformatting",className:"components-menu-items__item-icon"}),label:Wt("Clear block formatting","wecodeart"),onClick:()=>o(t,{content:ta({value:{...a,formats:Array(a.formats.length)}})})})}return null}))},{registerFormatType:oa}=wp.richText,{registerPlugin:la}=wp.plugins;wp.domReady((()=>{[v,$,ce,Jt,be,Pe,lt,jt].forEach((({name:e,...t})=>{e&&oa(e,t)})),function(){const{name:e,render:t}=na;la(e,{icon:!1,render:t})}()}))})();